# -*- coding: utf-8 -*-


from miner.toolBox import requestHandler

testJson = '{"api":"mtop.film.MtopShowAPI.getExtendShowById","data":{"returnCode":"0","returnValue":{"alipayH5Url":"https://h5.m.taobao.com/app/movie/pages/index/show-detail.html?showid=178341&hasbuybtn=false","artisteNum":"35","artistes":{"actor":[{"artisteName":"吴亦凡","artisteNameEn":"Kris Wu","avatar":"i4/TB1dkNqLFXXXXcmXpXXXXXXXXXX_.jpg","bornDay":"1990-11-06","id":"1981491","profession":"演员","roleName":"唐三藏"},{"artisteName":"林更新","artisteNameEn":"kenny Lin","avatar":"i1/TB1XkE3LpXXXXbKXVXXXXXXXXXX_.jpg","bornDay":"1988-02-13","id":"1821554","profession":"演员","roleName":"孙悟空"},{"artisteName":"姚晨","artisteNameEn":"Chen Yao","avatar":"i2/TB14UhrLFXXXXbSXpXXXXXXXXXX_.jpg","bornDay":"1979-10-05","id":"1252497","profession":"演员","roleName":"九宫真人"},{"artisteName":"林允","artisteNameEn":"Jelly Lin","avatar":"i3/TB1k1qGKVXXXXb4XVXXXXXXXXXX_.jpg","bornDay":"1996-04-16","id":"2118873","profession":"演员","roleName":"小善"},{"artisteName":"巴特尔","artisteNameEn":"Mengke Bateer","avatar":"i1/TB1Z2B7JpXXXXbIXpXXXXXXXXXX_.jpg","bornDay":"1975-11-20","id":"1249249","profession":"演员","roleName":"沙僧"},{"artisteName":"王丽坤","artisteNameEn":"Claudia","avatar":"i1/TB1P0V7JpXXXXapXpXXXXXXXXXX_.jpg","bornDay":"1985-03-22","id":"1299859","profession":"演员","roleName":"戚秦氏"},{"artisteName":"杨一威","artisteNameEn":"Yiwei Yang","avatar":"i4/TB1tURPJpXXXXa7XVXXXXXXXXXX_.jpg","bornDay":"1982-09-26","id":"2113308","profession":"演员","roleName":"朱悟能"},{"artisteName":"汪铎","artisteNameEn":"Tony","avatar":"i2/TB1j4E.JFXXXXXlaXXXXXXXXXXX_.jpg","bornDay":"1991-05-21","id":"144833","profession":"演员","roleName":"帅朱悟能"},{"artisteName":"包贝尔","artisteNameEn":"Beier Bao","avatar":"i1/TB1jekJOFXXXXboXXXXXXXXXXXX_.jpg","bornDay":"1984-05-03","id":"1654566","profession":"演员","roleName":"国王"},{"artisteName":"左镜伯","artisteNameEn":"Jingbo Zuo","avatar":"i1/TB1rytfLpXXXXcBXFXXXXXXXXXX_.jpg","bornDay":"1995-02-24","id":"2223442","profession":"演员","roleName":"神秘美人"},{"artisteName":"杨能","artisteNameEn":"Neng Yang","avatar":"i1/TB1BIVxLpXXXXaHXXXXXXXXXXXX_.jpg","bornDay":"1958-09-30","id":"2223443","profession":"演员","roleName":"村民"},{"artisteName":"董成鹏","artisteNameEn":"Da Peng","avatar":"i4/TB1S7l2LVXXXXcxaXXXXXXXXXXX_.jpg","bornDay":"1982-01-12","id":"1646183","profession":"演员","roleName":"道长"},{"artisteName":"张美娥","artisteNameEn":"Meie Zhang","avatar":"i1/TB1aA.lNpXXXXaoXFXXXXXXXXXX_.jpg","id":"2222461","profession":"演员","roleName":"大女儿"},{"artisteName":"罗家英","artisteNameEn":"Kar-Ying Law","avatar":"i3/TB1LVmTKFXXXXaOXpXXXXXXXXXX_.jpg","bornDay":"1947-08-27","id":"927399","profession":"演员","roleName":"唐僧师傅（配音）"},{"artisteName":"程思寒","artisteNameEn":"Si han Cheng","avatar":"i2/TB1u8t0JpXXXXX0XFXXXXXXXXXX_.jpg","id":"1748325","profession":"演员","roleName":"唐僧师傅"},{"artisteName":"黄永辉","artisteNameEn":"Yonghui Huang","avatar":"i4/TB1QIQGJVXXXXXVXpXXXXXXXXXX_.jpg","id":"1530800","profession":"演员","roleName":"道士小师弟"},{"artisteName":"舒淇","artisteNameEn":"Hsu Chi","avatar":"i3/TB1nm1EKVXXXXbpXpXXXXXXXXXX_.jpg","bornDay":"1976-04-16","id":"924551","profession":"演员","roleName":"段小姐"},{"artisteName":"黎继强","artisteNameEn":"Kai Keung Lai","avatar":"i4/TB1DCFbPXXXXXXLXVXXXXXXXXXX_.jpg","id":"1086761","profession":"演员","roleName":"道士二师兄"},{"artisteName":"王超","artisteNameEn":"Chao Wang","avatar":"i4/TB1yKxrPpXXXXa1aFXXXXXXXXXX_.jpg","id":"2223947","profession":"演员","roleName":"猪妖"}],"directors":[{"artisteName":"徐克","artisteNameEn":"Hark Tsui","avatar":"i3/TB13YwEKVXXXXbJXXXXXXXXXXXX_.jpg","bornDay":"1951-02-15","id":"892903","profession":"导演"}]},"availableCinemaCount":"214","availableScheduleCount":"5001","availableTodayScheduleCount":"1459","backgroundPicture":"i1/TB14BhOOVXXXXcPXFXXXXXXXXXX_.jpg","boxOfficeData":{"detailUrl":"https://h5.m.taobao.com/movie/movie-data/box-office.html?showid=178341","sort":"3","totalBoxOffice":"1490788274","weeklyBoxOffice":"583574433"},"chatMap":{"show":{"androidUrl":"alipays://platformapi/startapp?appId=20000167&thirdNo=178341&thirdBizType=81&tUserType=3&disGroupName=%E8%A5%BF%E6%B8%B8%E4%BC%8F%E5%A6%96%E7%AF%87","name":"聊天室","ownerId":"178341","ownerType":"81","url":"alipays://platformapi/startApp?appId=20000167&tChatRoomOwnerId=178341&tChatRoomOwnerType=81&tChatRoomOwnerName=%E8%A5%BF%E6%B8%B8%E4%BC%8F%E5%A6%96%E7%AF%87&tUserType=3&returnAppId=back"}},"country":"中国","description":"电影《西游伏妖篇》作为2013年周星驰导演电影《西游降魔篇》的后继故事，讲述了唐三藏（吴亦凡 饰）在上集感化了杀死段小姐的齐天大圣（林更新 饰），并收其为徒后，与孙悟空、猪八戒（杨一威&汪铎 饰）及沙僧（巴特尔 饰），师徒一行四人踏上西天取经之旅。路途凶险，除魔伏妖，师徒四人也在取经的过程中有了各自的成长与改变。","director":"徐克","duration":"108","easterEggsCount":"1","easterEggsInfo":"有1个彩蛋，在片尾字幕结束处","fantastic":"0","favouriteImg":"i3/TB1nw.CPXXXXXXkapXXXXXXXXXX_.jpg","features":{"easterEggsInfo":"有1个彩蛋，在片尾字幕结束处","single":"1795352893,1795484882","easterEggsCount":"1","openTime":"2017-01-28","year":"2017","openCountry":"中国大陆"},"flag":"201","fromSearch":"false","h5UrlMap":{"commentDetail":"https://h5.m.taobao.com/app/movie/pages/index/show-replies.html?__webview_options__=showOptionMenu%3DNO","watchedShow":"https://h5.m.taobao.com/app/movie/pages/index/my-comment.html?__webview_options__=showOptionMenu%3DNO","artisteList":"https://h5.m.taobao.com/app/movie/pages/index/show-artistes.html?showId=178341&showName=西游伏妖篇&__webview_options__=showOptionMenu%3DNO","artisteDetail":"https://h5.m.taobao.com/app/movie/pages/index/artist-detail.html?__webview_options__=showOptionMenu%3DNO","rightYouku":"https://h5.m.taobao.com/app/moviemember/pages/member/rights-detail-youku.html","rightsDetail":"https://h5.m.taobao.com/app/moviemember/pages/member/rights-detail-all.html","showComment":"https://h5.m.taobao.com/app/mymovie/pages/mine/critique.html?showId=178341&showName=西游伏妖篇&__webview_options__=showOptionMenu%3DNO","wantedShow":"https://h5.m.taobao.com/app/movie/pages/index/my-interest.html?__webview_options__=showOptionMenu%3DNO","commentList":"https://h5.m.taobao.com/app/movie/pages/index/show-comments.html?showId=178341&showName=西游伏妖篇&__webview_options__=showOptionMenu%3DNO","trailerList":"https://h5.m.taobao.com/app/movie/pages/index/show-trailers.html?showId=178341&__webview_options__=showOptionMenu%3DNO"},"highlight":"星爷徐克联手，调教西游鲜徒","id":"178341","imdbid":"tt5273624","isOpenChina":"true","isRemind":"false","isWant":"false","language":"汉语普通话","leadingRole":"吴亦凡,林更新,姚晨,林允,巴特尔","maxSeatPrice":"13400","minSeatPrice":"2200","openCountry":"中国大陆","openDay":"2017-01-28 00:00:00","openTime":"2017-01-28","orderBy":"10000","orderCount":"0","platform":"0","poster":"i2/TB1MxqgPXXXXXcqaXXXXXXXXXXX_.jpg","posterMeta":{"height":"2500","size":"4280488","width":"1786"},"remark":"7.8","remarkCount":"245648","shareUrl":"https://www.taobao.com/market/movie/show-detail.php?showid=178341&citycode=310100","showCreatorDetailList":[{"artisteName":"周星驰，林允","commentCount":"0","contentLink":"https://img.alicdn.com/tps/TB1ZsUVPXXXXXaSXpXXXXXXXXXX-450-340.jpg","favorCount":"0","id":"51","isFavored":"false","pubTime":"1485077459","showId":"178341","type":"2"},{"artisteName":"吴亦凡","commentCount":"0","contentLink":"https://img.alicdn.com/tps/TB1W1.MPXXXXXXhaXXXXXXXXXXX-450-340.jpg","favorCount":"0","id":"53","isFavored":"false","pubTime":"1485232924","showId":"178341","type":"2"},{"artisteName":"周星驰，徐克，吴亦凡，林更新，姚晨，林允，包贝尔，大鹏，巴特尔，杨一威，王丽坤，汪铎，罗志祥，黄渤","commentCount":"0","contentLink":"https://img.alicdn.com/tps/TB1dLIdPXXXXXc2XFXXXXXXXXXX-450-340.jpg","favorCount":"0","id":"46","isFavored":"false","pubTime":"1484795167","showId":"178341","type":"3"},{"artisteName":"周星驰，吴亦凡，姚晨，林允，王丽坤，谭晶","commentCount":"0","contentLink":"https://img.alicdn.com/tps/TB1DlR3PXXXXXaCapXXXXXXXXXX-450-340.jpg","favorCount":"0","id":"40","isFavored":"false","pubTime":"1484016586","showId":"178341","type":"3"}],"showDataList":[{"name":"影片背景","title":"《西游伏妖篇》公映看点大解析，大年初一双王贺岁","type":"1","url":"https://h5.m.taopiaopiao.com/app/dianying/pages/alfheim/content.html?id=2951&displayType=sb"},{"name":"幕后花絮","title":"11件关于电影《西游伏妖篇》你必须知道的事：","type":"2","url":"https://h5.m.taobao.com/app/movie/pages/index/show-info.html?infoType=highlight&showId=178341"},{"name":"台词精选","title":"孙悟空：我欠他的，我早已还清，他欠我的，也不必再还！","type":"3","url":"https://h5.m.taobao.com/app/movie/pages/index/show-info.html?infoType=dialogue&showId=178341"},{"name":"家长引导","title":"本片在美国的评级为PG-13，13岁以下的儿童需要在家长陪同下观看。","type":"4","url":"https://h5.m.taobao.com/app/movie/pages/index/show-info.html?infoType=parentGuidance&showId=178341"},{"name":"出品发行","title":"中国电影股份有限公司","type":"5","url":"https://h5.m.taobao.com/app/movie/pages/index/show-info.html?infoType=relatedCompany&showId=178341"}],"showMark":"IMAX3D","showName":"西游伏妖篇","showNameEn":"Journey to the West: The Demons Strike Back","showVersion":["IMAX3D"],"singleMusic":["1795352893","1795484882"],"singleMusicList":["1795352893","1795484882"],"specialSchedules":[],"supportType":"SEAT","trailer":["i3/TB1dyOTOFXXXXaWXXXXXXXXXXXX_.jpg","i1/TB1hHyyOFXXXXXcXFXXXXXXXXXX_.jpg","i1/TB1n55JOFXXXXXvXpXXXXXXXXXX_.jpg","i1/TB1FBKjOFXXXXXKXVXXXXXXXXXX_.jpg","i4/TB1IqKlOFXXXXbPXFXXXXXXXXXX_.jpg","i4/TB1.h2JOFXXXXcRXVXXXXXXXXXX_.jpg","i2/TB1EfY7OFXXXXb9XXXXXXXXXXXX_.jpg","i2/TB1iRH7OFXXXXcUXXXXXXXXXXXX_.jpg","i1/TB1heHVOFXXXXaZXFXXXXXXXXXX_.jpg","i2/TB1JFnNOFXXXXcpXVXXXXXXXXXX_.jpg"],"trailerMeta":[{"height":"667","size":"238568","width":"1000"},{"height":"667","size":"247656","width":"1000"},{"height":"667","size":"251261","width":"1000"},{"height":"665","size":"329884","width":"1000"},{"height":"667","size":"241975","width":"1000"},{"height":"500","size":"177074","width":"1000"},{"height":"665","size":"309962","width":"1000"},{"height":"500","size":"167150","width":"1000"},{"height":"667","size":"258657","width":"1000"},{"height":"1000","size":"288445","width":"665"}],"trailerNum":"306","type":"喜剧 动作 奇幻","wantCount":"321036","worthPct":"1859%"}},"ret":["SUCCESS::调用成功"],"v":"5.4"}'


def getMovieCommentData(id, version='v2', count='20', order_by='hot', start='0'):
    baseUrl = 'https://m.douban.com/rexxar/api'

    apiUrl = '%s/%s/%s/%s/%s' % (baseUrl, version, 'movie', id, 'interests')

    params = {'count': str(count),
              'order_by': str(order_by),
              'start': str(start)
              }

    response = requestHandler.get(url=apiUrl, params=params)

    return response


def getMovieInfo(id, version=''):
    # movieInfoJson = testJson.split('(', 1)[1].split(')', 1)[0]
    movieInfoJson = testJson

    return movieInfoJson
